require("../config/config").config("bf")
const { updateSearchKeywords } = require("./updateSearchKeywords");

const bulkUpdateSearchKeywords = (productIds, searchKeywordsToAdd) => {
  return new Promise((resolve, reject) => {
    let promises = [];
    let productIdsArray = productIds.map((obj) => obj[Object.keys(obj)[0]]);
    productIdsArray.forEach((product) =>
      promises.push(updateSearchKeywords(product, searchKeywordsToAdd))
    );
    Promise.allSettled(promises).then(resolve).catch(reject);
  });
};

exports.bulkUpdateSearchKeywords = bulkUpdateSearchKeywords;
let toUpdate = [{"Product ID":202},
{"Product ID":218},
{"Product ID":224},
{"Product ID":244},
{"Product ID":248},
{"Product ID":249},
{"Product ID":381},
{"Product ID":389},
{"Product ID":394},
{"Product ID":620},
{"Product ID":721},
{"Product ID":722},
{"Product ID":723},
{"Product ID":724},
{"Product ID":725},
{"Product ID":726},
{"Product ID":730},
{"Product ID":733},
{"Product ID":736},
{"Product ID":739},
{"Product ID":1058},
{"Product ID":1138},
{"Product ID":1244},
{"Product ID":1430},
{"Product ID":1431},
{"Product ID":1494},
{"Product ID":1495},
{"Product ID":1496},
{"Product ID":1497},
{"Product ID":1498},
{"Product ID":1534},
{"Product ID":1722},
{"Product ID":1772},
{"Product ID":2058},
{"Product ID":2158},
{"Product ID":2291},
{"Product ID":2298},
{"Product ID":2299},
{"Product ID":2317},
{"Product ID":2319},
{"Product ID":2323},
{"Product ID":2324},
{"Product ID":2339},
{"Product ID":2341},
{"Product ID":2351},
{"Product ID":2353},
{"Product ID":2354},
{"Product ID":2355},
{"Product ID":2551},
{"Product ID":2552},
{"Product ID":2604},
{"Product ID":2665},
{"Product ID":2674},
{"Product ID":2739},
{"Product ID":2759},
{"Product ID":2798},
{"Product ID":2806},
{"Product ID":2807},
{"Product ID":2812},
{"Product ID":2828},
{"Product ID":2829},
{"Product ID":2850},
{"Product ID":2854},
{"Product ID":2859},
{"Product ID":2860},
{"Product ID":2943},
{"Product ID":2956},
{"Product ID":2960},
{"Product ID":2984},
{"Product ID":2985},
{"Product ID":3010},
{"Product ID":3014},
{"Product ID":3015},
{"Product ID":3085},
{"Product ID":3086},
{"Product ID":3121},
{"Product ID":3126},
{"Product ID":3156},
{"Product ID":3318},
{"Product ID":3322},
{"Product ID":3350},
{"Product ID":3381},
{"Product ID":3383},
{"Product ID":3385},
{"Product ID":3387},
{"Product ID":3389},
{"Product ID":3391},
{"Product ID":3393},
{"Product ID":3549},
{"Product ID":3551},
{"Product ID":3553},
{"Product ID":3561},
{"Product ID":3562},
{"Product ID":3563},
{"Product ID":3564},
{"Product ID":3566},
{"Product ID":3569},
{"Product ID":3570},
{"Product ID":3572},
{"Product ID":3573},
{"Product ID":3627},
{"Product ID":3629},
{"Product ID":3632},
{"Product ID":3634},
{"Product ID":3652},
{"Product ID":3661},
{"Product ID":3682},
{"Product ID":3688},
{"Product ID":3710},
{"Product ID":3740},
{"Product ID":3749},
{"Product ID":3766},
{"Product ID":3768},
{"Product ID":3770},
{"Product ID":3772},
{"Product ID":3775},
{"Product ID":3778},
{"Product ID":3924},
{"Product ID":3925},
{"Product ID":3926},
{"Product ID":3932},
{"Product ID":3935},
{"Product ID":3940},
{"Product ID":3941},
{"Product ID":3946},
{"Product ID":3948},
{"Product ID":3959},
{"Product ID":3964},
{"Product ID":4011},
{"Product ID":4013},
{"Product ID":4014},
{"Product ID":4021},
{"Product ID":4022},
{"Product ID":4023},
{"Product ID":4024},
{"Product ID":4025},
{"Product ID":4026},
{"Product ID":4027},
{"Product ID":4029},
{"Product ID":4030},
{"Product ID":4031},
{"Product ID":4035},
{"Product ID":4038},
{"Product ID":4041},
{"Product ID":4048},
{"Product ID":4052},
{"Product ID":4053},
{"Product ID":4054},
{"Product ID":4067},
{"Product ID":4068},
{"Product ID":4069},
{"Product ID":4070},
{"Product ID":4074},
{"Product ID":4087},
{"Product ID":4088},
{"Product ID":4093},
{"Product ID":4095},
{"Product ID":4097},
{"Product ID":4098},
{"Product ID":4100},
{"Product ID":4102},
{"Product ID":4128},
{"Product ID":4129},
{"Product ID":4130},
{"Product ID":4131},
{"Product ID":4133},
{"Product ID":4134},
{"Product ID":4149},
{"Product ID":4150},
{"Product ID":4156},
{"Product ID":4157},
{"Product ID":4158},
{"Product ID":4159},
{"Product ID":4160},
{"Product ID":4161},
{"Product ID":4162},
{"Product ID":4163},
{"Product ID":4184},
{"Product ID":4192},
{"Product ID":4194},
{"Product ID":4195},
{"Product ID":4199},
{"Product ID":4200},
{"Product ID":4212},
{"Product ID":4213},
{"Product ID":4221},
{"Product ID":4227},
{"Product ID":4228},
{"Product ID":4233},
{"Product ID":4234},
{"Product ID":4235},
{"Product ID":4239},
{"Product ID":4272},
{"Product ID":4274},
{"Product ID":4277},
{"Product ID":4285},
{"Product ID":4326},
{"Product ID":4329},
{"Product ID":4331},
{"Product ID":4338},
{"Product ID":4339},
{"Product ID":4407},
{"Product ID":4408},
{"Product ID":4409},
{"Product ID":4410},
{"Product ID":4411},
{"Product ID":4412},
{"Product ID":4595},
{"Product ID":4596},
{"Product ID":4598},
{"Product ID":4600},
{"Product ID":4601},
{"Product ID":4604},
{"Product ID":4608},
{"Product ID":4612},
{"Product ID":4653},
{"Product ID":4654},
{"Product ID":4655},
{"Product ID":4656},
{"Product ID":4659},
{"Product ID":4663},
{"Product ID":4675},
{"Product ID":4707},
{"Product ID":4709},
{"Product ID":4776},
{"Product ID":4787},
{"Product ID":4788},
{"Product ID":4794},
{"Product ID":4815},
{"Product ID":4816},
{"Product ID":4926},
{"Product ID":4928},
{"Product ID":4929},
{"Product ID":4958},
{"Product ID":4959},
{"Product ID":4961},
{"Product ID":4962},
{"Product ID":4967},
{"Product ID":4968},
{"Product ID":4970},
{"Product ID":4971},
{"Product ID":4980},
{"Product ID":5019},
{"Product ID":5026},
{"Product ID":5098},
{"Product ID":5101},
{"Product ID":5108},
{"Product ID":5136},
{"Product ID":5142},
{"Product ID":5157},
{"Product ID":5158},
{"Product ID":5159},
{"Product ID":5187},
{"Product ID":5195},
{"Product ID":5196},
{"Product ID":5230},
{"Product ID":5231},
{"Product ID":5257},
{"Product ID":5258},
{"Product ID":5259},
{"Product ID":5261},
{"Product ID":5270},
{"Product ID":5271},
{"Product ID":5272}]
let keywordsToAdd = ["Coditioner"]
bulkUpdateSearchKeywords(toUpdate, keywordsToAdd).then(console.log).catch(console.log)
